

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mailroom - Object Oriented &mdash; PythonCert 5.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="A Couple Handy Context Managers" href="context-managers-exercise.html" />
    <link rel="prev" title="Circle Class Exercise" href="circle_class.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PythonCert
          

          
          </a>

          
            
            
              <div class="version">
                5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Topic Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Exercises</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#py210-introduction-to-python">Py210: Introduction to Python</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-1-introductions-and-setting-up-your-environment">Lesson 1: Introductions and Setting up your Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-2-basic-python-and-functions">Lesson 2: Basic Python and Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-3-booleans-sequences-iteration-and-strings">Lesson 3: Booleans, Sequences, Iteration, and Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-4-dictionaries-sets-and-files">Lesson 4: Dictionaries, Sets, and Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-5-exceptions-modules-and-comprehensions">Lesson 5: Exceptions, Modules, and Comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-6-unit-testing-and-advanced-argument-passing">Lesson 6: Unit Testing and Advanced Argument Passing</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-7-intro-to-object-oriented-programing">Lesson 7: Intro to Object Oriented Programing</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-8-properties-and-magic-methods">Lesson 8: Properties and Magic Methods</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#lesson-9-multiple-inheritance">Lesson 9: Multiple Inheritance</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Mailroom - Object Oriented</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-10-catch-up">Lesson 10: Catch up</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#py220-advanced-python">Py220: Advanced Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#assorted-additional-exercises">Assorted Additional Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../supplemental/index.html">Supplemental Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">Resources for Specific Python Topics</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PythonCert</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Exercises</a> &raquo;</li>
        
      <li>Mailroom - Object Oriented</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/exercises/mailroom-oo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mailroom-object-oriented">
<span id="exercise-mailroom-oo"></span><h1>Mailroom - Object Oriented<a class="headerlink" href="#mailroom-object-oriented" title="Permalink to this headline">¶</a></h1>
<p>Making Mailroom Object Oriented.</p>
<p>Goal: Refactor the mailroom program using classes to help organize the code.</p>
<p>The functionality is the same as the earlier mailroom:</p>
<p><a class="reference internal" href="mailroom-part1.html#exercise-mailroom-part1"><span class="std std-ref">Mailroom Part 1</span></a></p>
<p>But this time, we want to use an OO approach to better structure the code to make it more extensible.</p>
<p>It was quite reasonable to build the simple mailroom program using a
single module, a simple data structure, and functions that manipulate
that data structure.</p>
<p>But if one were to expand the program with additional functionality, it
would start to get a bit unwieldy and hard to maintain. So it’s a pretty good candidate for an object-oriented approach.</p>
<p>As you design appropriate classes, keep in mind these three guidelines for good code structure:</p>
<ol class="arabic">
<li><p class="first">Encapsulation: You have a data structure that holds your data, and functions that manipulate that data; you want data and methods “bundled up” in a neat package so that they that work on that data are within one unit. The rest of the code doesn’t need to know about the data structure you are using.</p>
</li>
<li><p class="first">Separation of Concerns: The user-interaction code should be cleanly separated from the data handling code.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Separation_of_concerns">https://en.wikipedia.org/wiki/Separation_of_concerns</a></p>
<p>There should be no <code class="docutils literal notranslate"><span class="pre">input</span></code> functions in the classes that hold the data!</p>
</li>
<li><p class="first">As always: <strong>DRY</strong> (Don’t Repeat Yourself): Anywhere you see repeated code; refactor it!</p>
</li>
</ol>
<div class="section" id="the-program">
<h2>The Program<a class="headerlink" href="#the-program" title="Permalink to this headline">¶</a></h2>
<p>See: <a class="reference internal" href="mailroom-part1.html#exercise-mailroom-part1"><span class="std std-ref">Mailroom Part 1</span></a> to remind yourself what the program needs to do.</p>
</div>
<div class="section" id="suggestions">
<h2>Suggestions<a class="headerlink" href="#suggestions" title="Permalink to this headline">¶</a></h2>
<p>One of the hardest parts of OO design (particularly in Python) is to know how “low” to go with the classes and data structures. In particular, you might have a bit of data collected together (say, a donor’s name and donation history). This can be a simple tuple with a few items in it; a dict with those same data available as <code class="docutils literal notranslate"><span class="pre">key:value</span></code> pairs; or a class, with class attributes (and, possibly, methods).</p>
<p>There are no hard and fast rules, but here are some guidelines:</p>
<p>For this assignment it’s OK to go with simple tuples. However, in order for the code to be more flexible in the future, for example, if new “fields” were added to the donor object, it’s probably better to use a more structured data type, so you don’t have to worry about changing the order or number of fields.</p>
<p>So now you have to think about using a dict or class. Again for flexibility, I think a dict is a bit easier; you can add fields to it very easily. However, with a class, you can build some functionality in there, too. This is where encapsulation comes in. For instance, one thing you might want to do is get the total of all donations a donor has made in the past. If you add a method to compute that (or a property!), then the rest of the code doesn’t need to know how the donations are stored.</p>
<p>Consider <code class="docutils literal notranslate"><span class="pre">data[0]</span></code> vs <code class="docutils literal notranslate"><span class="pre">data[&quot;first_name&quot;]</span></code> vs <code class="docutils literal notranslate"><span class="pre">data.first_name</span></code>. Which one is more readable? Keep in mind that another benefit of using OO for data encapsulation is ability of modern IDE to provide auto-completion, which reduces number of bugs and helps to produce code faster.</p>
<p>Below are more detailed suggestions on breaking down your existing code into multiple modules that will be part of a single mailroom program.</p>
<div class="section" id="modules-vs-classes">
<h3>Modules vs. Classes<a class="headerlink" href="#modules-vs-classes" title="Permalink to this headline">¶</a></h3>
<p>You may organize your code to your preference and keep it simple by having all of the code in a single file.</p>
<p>Optionally, you could organize your code into modules, which helps to keep code organized and re-usable.</p>
<p>What is a module? A module is a python file that can be imported in other files.
Modules can contain functions, classes, and even variables (constants).</p>
<p>Here is an example file structure for <code class="docutils literal notranslate"><span class="pre">mailroom_oo</span></code> package that contains 3 modules:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>└── mailroom_oo
   ├── __init__.py
   ├── cli_main.py
   ├── donor_models.py
   └── test_mailroom_oo.py
</pre></div>
</div>
<p>The module <code class="docutils literal notranslate"><span class="pre">donor_models.py</span></code> can contain the <code class="docutils literal notranslate"><span class="pre">Donor</span></code> and <code class="docutils literal notranslate"><span class="pre">DonorCollection</span></code> classes.</p>
<p>The module <code class="docutils literal notranslate"><span class="pre">cli_main.py</span></code> would include all of your user interaction functions and main program flow.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> is an empty file that tells Python that this directory should be treated as a package so that you can import modules.</p>
</div>
<div class="section" id="donor-class">
<h3>Donor Class<a class="headerlink" href="#donor-class" title="Permalink to this headline">¶</a></h3>
<p><strong>Class responsible for donor data encapsulation</strong></p>
<p>This class will hold all the information about a single donor, and have attributes, properties, and methods to provide access to the donor-specific information that is needed.
Remember, if you are writing code that only accesses information about a single donor, then it should most likely live in this class.</p>
</div>
<div class="section" id="donorcollection-class">
<h3>DonorCollection Class<a class="headerlink" href="#donorcollection-class" title="Permalink to this headline">¶</a></h3>
<p><strong>Class responsible for donor collection data encapsulation</strong></p>
<p>This class will hold all of the donor objects, as well as methods to add a new donor, search for a given donor, etc. If you want a way to save and re-load your data, this class would hold that method, too.</p>
<p>Your class for the collection of donors will also hold the code that generates reports about multiple donors.</p>
</div>
<div class="section" id="command-line-interface">
<h3>Command Line Interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h3>
<p><strong>Module responsible for main program flow (CLI - Command Line Interface)</strong></p>
<p>Let’s call this module <code class="docutils literal notranslate"><span class="pre">cli_main.py</span></code> to represent the entry point for the mailroom program. This module will be using the classes we defined: <code class="docutils literal notranslate"><span class="pre">Donor</span></code> and <code class="docutils literal notranslate"><span class="pre">DonorCollection</span></code>. It will also handle interaction with the user via the <code class="docutils literal notranslate"><span class="pre">input</span></code> function calls that gather user input and to provide the output to the console.</p>
<p>What should go into this module?</p>
<ul class="simple">
<li>main “switch dictionary” to map user selection to the program features; in general, you will have a method for each of the mailroom functions.</li>
<li><code class="docutils literal notranslate"><span class="pre">input</span></code> function calls to gather user input</li>
<li><code class="docutils literal notranslate"><span class="pre">print</span></code> statements to print to console</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Technically, console print statements don’t belong in your data classes. However, for some features of this program, such as “send letters,” we are simply printing instead of “sending,” so it is ok for this feature to reside in the data class. But do keep integration of console print statements with data classes to a minimum. Ideally, the data class methods return a string, and the UI code does the printing.</p>
</div>
<p>Why is this separation of data and method so important?</p>
<p>The idea here is that we should be able to fairly easy replace this CLI program with a different type of interface,
such as a GUI (Graphical User Interface), without having to make any changes to our data classes.
If that was the case, then you would implement the GUI elements and use your data classes the same way as they are used in CLI.</p>
</div>
</div>
<div class="section" id="test-driven-development">
<h2>Test-Driven Development<a class="headerlink" href="#test-driven-development" title="Permalink to this headline">¶</a></h2>
<p>At this point we have done a great job refactoring the more complex code out of data-holding classes and we are left with simple classes that are more straightforward to unit test. As you build your classes, update the tests you already have to the logic code to the new API. Ideally, update the tests first, then the code.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Donor</span></code> and <code class="docutils literal notranslate"><span class="pre">DonorCollection</span></code> classes should now have close to 100 percent code coverage.</p>
<p>For the moment, don’t worry about testing most of the command line interface code. That requires simulating use input, which is an advanced testing topic. But you can (hopefully) see some of the benefits of separating the user-interaction code from the logic code; your logic code is much easier to test with no user-interaction involved.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="context-managers-exercise.html" class="btn btn-neutral float-right" title="A Couple Handy Context Managers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="circle_class.html" class="btn btn-neutral" title="Circle Class Exercise" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, University of Washington, Natasha Aleksandrova, Christopher Barker, Brian Dorsey, Cris Ewing, Christy Heaton, Jon Jacky, Maria McKinley, Andy MilesRick Riehle, Joseph Schilz, Joseph Sheedy, Hosung Song. Creative Commons Attribution-ShareAlike 3.0 license

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'5.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>