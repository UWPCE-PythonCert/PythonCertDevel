

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Subclassing and Inheritance &mdash; PythonCert 5.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Properties" href="Properties.html" />
    <link rel="prev" title="Python Classes" href="PythonClasses.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PythonCert
          

          
          </a>

          
            
            
              <div class="version">
                5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Topic Notes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#py210-introduction-to-python">Py210: Introduction to Python</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-1-introductions-and-setting-up-your-environment">Lesson 1: Introductions and Setting up your Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-2-basic-python-and-functions">Lesson 2: Basic Python and Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-3-booleans-sequences-iteration-and-strings">Lesson 3: Booleans, Sequences, Iteration, and Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-4-dictionaries-sets-and-files">Lesson 4: Dictionaries, Sets, and Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-5-exceptions-modules-and-comprehensions">Lesson 5: Exceptions, Modules, and Comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-6-unit-testing-and-advanced-argument-passing">Lesson 6: Unit Testing and Advanced Argument Passing</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#lesson-7-intro-to-object-oriented-programing">Lesson 7: Intro to Object Oriented Programing</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ObjectOrientationOverview.html">Object Orientation Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="PythonClasses.html">Python Classes</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Subclassing and Inheritance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-8-properties-and-magic-methods">Lesson 8: Properties and Magic Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-9-multiple-inheritance">Lesson 9: Multiple Inheritance</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-10-introduction-to-functional-programming">Lesson 10: Introduction to Functional Programming</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#py220-advanced-python">Py220: Advanced Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#assorted-additional-topics">Assorted Additional Topics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/index.html">Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supplemental/index.html">Supplemental Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">Resources for Specific Python Topics</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PythonCert</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Topic Notes</a> &raquo;</li>
        
      <li>Subclassing and Inheritance</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/SubclassingAndInheritance.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="subclassing-and-inheritance">
<span id="subclassing-inheritance"></span><h1>Subclassing and Inheritance<a class="headerlink" href="#subclassing-and-inheritance" title="Permalink to this headline">¶</a></h1>
<p>How to put the pieces together to build a complex system without repeating code.</p>
<div class="section" id="inheritance">
<h2>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h2>
<p>In object-oriented programming (OOP), inheritance is a way to reuse the code
of existing objects, or to establish a subtype from an existing object.</p>
<p>Objects are defined by classes. Classes can inherit attributes and behavior
from pre-existing classes called base classes or super classes.</p>
<p>The resulting classes are known as derived classes or subclasses.</p>
<p>(<a class="reference external" href="http://en.wikipedia.org/wiki/Inheritance_%28object-oriented_programming%29">http://en.wikipedia.org/wiki/Inheritance_%28object-oriented_programming%29</a>)</p>
<div class="section" id="subclassing">
<h3>Subclassing<a class="headerlink" href="#subclassing" title="Permalink to this headline">¶</a></h3>
<p>A subclass “inherits” all the attributes (methods, etc) of the parent class.</p>
<p>You can then change (“override”) some or all of the attributes to change the behavior.</p>
<p>You can also add new attributes to extend the behavior.  You create a subclass by passing the superclass to the class statement.</p>
<p>The simplest subclass in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A_subclass</span><span class="p">(</span><span class="n">The_superclass</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">A_subclass</span></code>  now has exactly the same behavior as <code class="docutils literal notranslate"><span class="pre">The_superclass</span></code></p>
</div>
<div class="section" id="overriding-attributes">
<h3>Overriding attributes<a class="headerlink" href="#overriding-attributes" title="Permalink to this headline">¶</a></h3>
<p>Overriding is as simple as creating a new attribute with the same name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>

<span class="o">...</span>

<span class="k">class</span> <span class="nc">NewCircle</span><span class="p">(</span><span class="n">Circle</span><span class="p">):</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">NewCircle</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">nc</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="n">blue</span>
</pre></div>
</div>
<p>all the <code class="docutils literal notranslate"><span class="pre">self</span></code>  instances will have the new attribute.</p>
</div>
<div class="section" id="overriding-methods">
<h3>Overriding methods<a class="headerlink" href="#overriding-methods" title="Permalink to this headline">¶</a></h3>
<p>Same thing, but with methods (remember, a method <em>is</em> an attribute in Python)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>
<span class="o">...</span>
    <span class="k">def</span> <span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;grows the circle&#39;s diameter by factor&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">*</span> <span class="n">factor</span>
<span class="o">...</span>

<span class="k">class</span> <span class="nc">NewCircle</span><span class="p">(</span><span class="n">Circle</span><span class="p">):</span>
<span class="o">...</span>
    <span class="k">def</span> <span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;grows the area by factor...&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>all the instances will have the new method.</p>
<p><strong>Here’s a program design suggestion:</strong></p>
<blockquote>
<div><p>Whenever you override a method, the interface of the new method should be the same as the old.  It should take the same parameters, return the same type, and obey the same preconditions and postconditions.</p>
<p>If you obey this rule, you will find that any function designed to work with an instance of a superclass, like a Deck, will also work with instances of subclasses like a Hand or PokerHand.  If you violate this rule, your code will collapse like (sorry) a house of cards.</p>
</div></blockquote>
</div>
<div class="section" id="overriding-init">
<h3>Overriding <code class="docutils literal notranslate"><span class="pre">__init__</span></code><a class="headerlink" href="#overriding-init" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">__init__</span></code> is a common method to override.</p>
<p>You often need to call the super class <code class="docutils literal notranslate"><span class="pre">__init__</span></code>  as well.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="n">diameter</span>
<span class="o">...</span>
<span class="k">class</span> <span class="nc">CircleR</span><span class="p">(</span><span class="n">Circle</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
        <span class="n">diameter</span> <span class="o">=</span> <span class="n">radius</span><span class="o">*</span><span class="mi">2</span>
        <span class="n">Circle</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="p">)</span>
</pre></div>
</div>
<p>Exception to: “don’t change the method signature” rule.</p>
</div>
<div class="section" id="using-the-superclasses-methods">
<h3>Using the superclasses’ methods<a class="headerlink" href="#using-the-superclasses-methods" title="Permalink to this headline">¶</a></h3>
<p>You can also call the superclass’ other methods:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>
<span class="o">...</span>
    <span class="k">def</span> <span class="nf">get_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">diameter</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>


<span class="k">class</span> <span class="nc">CircleR2</span><span class="p">(</span><span class="n">Circle</span><span class="p">):</span>
<span class="o">...</span>
    <span class="k">def</span> <span class="nf">get_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Circle</span><span class="o">.</span><span class="n">get_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that there is nothing special about <code class="docutils literal notranslate"><span class="pre">__init__</span></code>  except that it gets called automatically when you instantiate an instance. Otherwise, it is the same as any other method – it gets <code class="docutils literal notranslate"><span class="pre">self</span></code> as the first argument, it can or can not call the superclasses methods, etc.</p>
</div>
<div class="section" id="favor-object-composition-over-class-inheritance">
<h3>“Favor Object Composition Over Class Inheritance”<a class="headerlink" href="#favor-object-composition-over-class-inheritance" title="Permalink to this headline">¶</a></h3>
<p>That is a quotation from the “Design Patterns” book – kind of one of the gospels of OO programming.</p>
<p>But what does it mean?</p>
<p>There are essentially two ways to add multiple functionalities to a class:</p>
<p>Subclassing</p>
<p>and</p>
<p>Composition</p>
<p>As we have just learned about subclassing, you might be tempted to do it a lot. But you need to be careful of over-using subclassing:</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Composition_over_inheritance">https://en.wikipedia.org/wiki/Composition_over_inheritance</a></p>
<p>Composition is when your classes have attributes of various types that they use to gain functionality – “delegate” functionality to – “Delegation” is a related concept in OO.</p>
<div class="section" id="is-a-vs-has-a">
<h4>“Is a” vs “Has a”<a class="headerlink" href="#is-a-vs-has-a" title="Permalink to this headline">¶</a></h4>
<p>Thinking about “is a” vs “has a” can help you sort this out.</p>
<p>For example, you may have a class that needs to accumulate an arbitrary number of objects.</p>
<p>A list can do that – so maybe you should subclass list?</p>
<p>To help decide – Ask yourself:</p>
<p>– <strong>Is</strong> your class a list (with some extra functionality)?</p>
<p>or</p>
<p>– Does you class <strong>have</strong> a list?</p>
<p>You only want to subclass list if your class could be used anywhere a list can be used. In fact this is a really good way to think about subclassing in general – subclasses should be specialized versions of the superclass. “Kind of” the same, but with a little different functionality.</p>
</div>
</div>
<div class="section" id="attribute-resolution-order">
<h3>Attribute Resolution Order<a class="headerlink" href="#attribute-resolution-order" title="Permalink to this headline">¶</a></h3>
<p>When you access an attribute:</p>
<p><code class="docutils literal notranslate"><span class="pre">an_instance.something</span></code></p>
<p>Python looks for it in this order:</p>
<blockquote>
<div><ul class="simple">
<li>Is it an instance attribute ?</li>
<li>Is it a class attribute ?</li>
<li>Is it a superclass attribute ?</li>
<li>Is it a super-superclass attribute ?</li>
<li>…</li>
</ul>
</div></blockquote>
<p>It can get more complicated, particularly when there are multiple superclasses (multiple inheritance), but when there is a simple inheritance structure (the usual case) – it’s fairly straightforward.</p>
<p>If you want to know more of the gory details – here’s some reading:</p>
<p><a class="reference external" href="https://www.python.org/download/releases/2.3/mro/">https://www.python.org/download/releases/2.3/mro/</a></p>
<p><a class="reference external" href="http://python-history.blogspot.com/2010/06/method-resolution-order.html">http://python-history.blogspot.com/2010/06/method-resolution-order.html</a></p>
</div>
<div class="section" id="what-are-python-classes-really">
<h3>What are Python classes, really?<a class="headerlink" href="#what-are-python-classes-really" title="Permalink to this headline">¶</a></h3>
<p>Putting aside the OO theory…</p>
<p>Python classes feature:</p>
<blockquote>
<div><ul class="simple">
<li>Namespaces<ul>
<li>One for the class object</li>
<li>One for each instance</li>
</ul>
</li>
<li>Attribute resolution order – how do you find an attribute.</li>
<li>Auto tacking-on of <code class="docutils literal notranslate"><span class="pre">self</span></code> when methods are called</li>
<li>automatically calling <code class="docutils literal notranslate"><span class="pre">__init__</span></code> when the class object is called.</li>
</ul>
</div></blockquote>
<p>That’s about it – really!</p>
<p>(Well, not really, there is more fancy stuff going on under the hood – but this basic structure will get you far).</p>
</div>
<div class="section" id="type-based-dispatch">
<h3>Type-Based Dispatch<a class="headerlink" href="#type-based-dispatch" title="Permalink to this headline">¶</a></h3>
<p>You’ll see code that looks like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">A_Class</span><span class="p">):</span>
    <span class="n">Do_something_with_other</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">Do_something_else</span>
</pre></div>
</div>
<p>When it’s called for, Python provides these utilties:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">isinstance()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">issubclass()</span></code></li>
</ul>
</div></blockquote>
<p>But it is very rarely called for! Between Duck typing, polymorphism, and EAFP, you rarely need to check for type directly.</p>
</div>
<div class="section" id="wrap-up">
<h3>Wrap Up<a class="headerlink" href="#wrap-up" title="Permalink to this headline">¶</a></h3>
<p>Thinking OO in Python:</p>
<p>Think about what makes sense for your code:</p>
<ul class="simple">
<li>Code re-use</li>
<li>Clean APIs</li>
<li>Separation of Concerns</li>
<li>…</li>
</ul>
<p>OO can be a very powerful approach, but don’t be a slave to what OO is <em>supposed</em> to look like.</p>
<p>Let OO work for you, not <em>create</em> work for you.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Properties.html" class="btn btn-neutral float-right" title="Properties" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="PythonClasses.html" class="btn btn-neutral" title="Python Classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, University of Washington, Natasha Aleksandrova, Christopher Barker, Brian Dorsey, Cris Ewing, Christy Heaton, Jon Jacky, Maria McKinley, Andy MilesRick Riehle, Joseph Schilz, Joseph Sheedy, Hosung Song. Creative Commons Attribution-ShareAlike 3.0 license

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>