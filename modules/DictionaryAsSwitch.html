

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using a Dictionary to switch &mdash; PythonCert 5.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Style and Naming" href="NamingThings.html" />
    <link rel="prev" title="File Reading and Writing" href="Files.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PythonCert
          

          
          </a>

          
            
            
              <div class="version">
                5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Topic Notes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#py210-introduction-to-python">Py210: Introduction to Python</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-1-introductions-and-setting-up-your-environment">Lesson 1: Introductions and Setting up your Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-2-basic-python-and-functions">Lesson 2: Basic Python and Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-3-booleans-sequences-iteration-and-strings">Lesson 3: Booleans, Sequences, Iteration, and Strings</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#lesson-4-dictionaries-sets-and-files">Lesson 4: Dictionaries, Sets, and Files</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="DictsAndSets.html">Dictionaries and Sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="Files.html">File Reading and Writing</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Using a Dictionary to <code class="docutils literal notranslate"><span class="pre">switch</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-5-exceptions-modules-and-comprehensions">Lesson 5: Exceptions, Modules, and Comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-6-unit-testing-and-advanced-argument-passing">Lesson 6: Unit Testing and Advanced Argument Passing</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-7-intro-to-object-oriented-programing">Lesson 7: Intro to Object Oriented Programing</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-8-properties-and-magic-methods">Lesson 8: Properties and Magic Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-9-multiple-inheritance">Lesson 9: Multiple Inheritance</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lesson-10-introduction-to-functional-programming">Lesson 10: Introduction to Functional Programming</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#py220-advanced-python">Py220: Advanced Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#assorted-additional-topics">Assorted Additional Topics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/index.html">Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supplemental/index.html">Supplemental Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">Resources for Specific Python Topics</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PythonCert</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Topic Notes</a> &raquo;</li>
        
      <li>Using a Dictionary to <code class="docutils literal notranslate"><span class="pre">switch</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/DictionaryAsSwitch.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-a-dictionary-to-switch">
<span id="dict-as-switch"></span><h1>Using a Dictionary to <code class="docutils literal notranslate"><span class="pre">switch</span></code><a class="headerlink" href="#using-a-dictionary-to-switch" title="Permalink to this headline">¶</a></h1>
<p>Python does not have a <code class="docutils literal notranslate"><span class="pre">switch/case</span> <span class="pre">statement</span></code>.  Why not?</p>
<p><a class="reference external" href="https://www.python.org/dev/peps/pep-3103/">https://www.python.org/dev/peps/pep-3103/</a></p>
<p>So what to use instead of “switch-case”?</p>
<div class="section" id="switch-case">
<h2><code class="docutils literal notranslate"><span class="pre">switch</span></code> / <code class="docutils literal notranslate"><span class="pre">case</span></code><a class="headerlink" href="#switch-case" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-is-switch">
<h3>What is <code class="docutils literal notranslate"><span class="pre">switch</span></code>?<a class="headerlink" href="#what-is-switch" title="Permalink to this headline">¶</a></h3>
<p>Many languages have a “switch-case” construct:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">case</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;zero&quot;</span><span class="p">;</span>
    <span class="n">case</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;one&quot;</span><span class="p">;</span>
    <span class="n">case</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;two&quot;</span><span class="p">;</span>
    <span class="n">default</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;nothing&quot;</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>How do you say this in Python?</p>
</div>
<div class="section" id="if-elif-chains">
<h3><code class="docutils literal notranslate"><span class="pre">if-elif</span></code> chains<a class="headerlink" href="#if-elif-chains" title="Permalink to this headline">¶</a></h3>
<p>The obvious way to say it is a chain of <code class="docutils literal notranslate"><span class="pre">elif</span></code> statements:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">argument</span> <span class="o">==</span>  <span class="mi">0</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;zero&quot;</span>
<span class="k">elif</span> <span class="n">argument</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;one&quot;</span>
<span class="k">elif</span> <span class="n">argument</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;two&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;nothing&quot;</span>
</pre></div>
</div>
<p>And there is nothing wrong with that, but….</p>
</div>
<div class="section" id="id1">
<h3>dict as switch<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">elif</span></code> chain is neither elegant nor efficient. There are a number of ways to say it in python – but one elegant one is to use a dict:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arg_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s2">&quot;zero&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;two&quot;</span><span class="p">}</span>
<span class="n">arg_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="s2">&quot;nothing&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Simple, elegant and fast.</p>
<p>You can do a dispatch table by putting functions as the value.</p>
<p>Example: The mailroom2 solution.</p>
</div>
<div class="section" id="switch-with-functions">
<h3>Switch with functions<a class="headerlink" href="#switch-with-functions" title="Permalink to this headline">¶</a></h3>
<p>What would this be like if you used functions instead? Think of the possibilities.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="k">def</span> <span class="nf">my_zero_func</span><span class="p">():</span>
<span class="go">    return &quot;I&#39;m zero&quot;</span>

<span class="gp">In [12]: </span><span class="k">def</span> <span class="nf">my_one_func</span><span class="p">():</span>
<span class="go">    return &quot;I&#39;m one&quot;</span>

<span class="gp">In [13]: </span><span class="n">switch_func_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">    0: my_zero_func,</span>
<span class="go">    1: my_one_func,</span>
<span class="go">}</span>

<span class="gp">In [14]: </span><span class="n">switch_func_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)()</span>
<span class="gh">Out[14]: </span><span class="go">&quot;I&#39;m zero&quot;</span>
</pre></div>
</div>
<p>Again, fast and efficient.</p>
<p>This is possible because functions are “first class objects” in Python.</p>
</div>
<div class="section" id="oo-switch-case">
<h3>OO switch/case<a class="headerlink" href="#oo-switch-case" title="Permalink to this headline">¶</a></h3>
<p>Another way to do the equivalent of switch / case is subclassing.</p>
<p>If you haven’t learned about classes in Python this will be pretty confusing. But here’s a high level overview:</p>
<p>In C, before C++, a common idiom was something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span><span class="p">(</span><span class="n">object_type</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">case</span> <span class="n">circle</span><span class="p">:</span>
        <span class="n">draw_a_circle</span><span class="p">();</span>
    <span class="n">case</span> <span class="n">square</span><span class="p">:</span>
        <span class="n">draw_a_square</span><span class="p">();</span>
    <span class="n">case</span> <span class="n">polygon</span><span class="p">:</span>
        <span class="n">draw_a_polygon</span><span class="p">();</span>
    <span class="n">default</span><span class="p">:</span>
        <span class="n">draw_nothing</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<p>That is, a different function is called depending on what type of “thing” you are dealing with.</p>
<p>This is actually a really common idiom in C. And even in modern OO code written by old C developers – I had a developer on my team do exactly this in a program we were working on. It was a map drawing program (written in Python), and there was code all over it like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">layer</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;tiles&quot;</span><span class="p">:</span>
    <span class="n">do_something_with_tiles</span>
<span class="k">elif</span> <span class="n">layer</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;grid&quot;</span><span class="p">:</span>
    <span class="n">do_somethign_with_grid</span>
</pre></div>
</div>
<p>This was a maintainability nightmare – if you added a new layer type, you had to find every one of these constructs and add another <code class="docutils literal notranslate"><span class="pre">elif</span></code> block to it.</p>
</div>
<div class="section" id="the-oo-way">
<h3>The OO way<a class="headerlink" href="#the-oo-way" title="Permalink to this headline">¶</a></h3>
<p>With object oriented programming, you can “subclass” objects, and use “polymorphism” to achieve this kind of selection. Say you have a bunch of objects you want to be able to draw. Give each of them a <code class="docutils literal notranslate"><span class="pre">draw()</span></code> method, and then the above switch statement becomes:</p>
<p>the_object.draw()</p>
<p>That’s IT!</p>
<p>You don’t have to test to see which type of object it is, you only have to know that it knows how to draw itself.</p>
<p>Now when you add a new object type – all you need to do is make sure it has a draw() method (and other needed methods) and then all the other code will know how to use it without your changing anything.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="NamingThings.html" class="btn btn-neutral float-right" title="Style and Naming" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Files.html" class="btn btn-neutral" title="File Reading and Writing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, University of Washington, Natasha Aleksandrova, Christopher Barker, Brian Dorsey, Cris Ewing, Christy Heaton, Jon Jacky, Maria McKinley, Andy Miles, Rick Riehle, Joseph Schilz, Joseph Sheedy, Hosung Song. Creative Commons Attribution-ShareAlike 3.0 license

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'5.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>